@import '~normalize.css';
@import '@s/vars';
@import '@s/mixins';

// GENERAL
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  background-color: $main-background-color;
  @include bg-image($background-source, left top, 200vw 50vh);
  transition: background-size .3s cubic-bezier(0, 0.5, 0, 1);
  font-family: 'Manrope', sans-serif;
  font-weight: $regular-weight;
  color: $text-color;
}

.main-container {
  @include flex($direction: column, $ai: center, $jc: center);
  height: 100vh;
  text-align: center;
  &__header {
    min-height: calc(#{$header-height} + 100px);
  }
}

%button {
  border: none;
  outline: none;
  cursor: pointer;
}

// HEADER
.header {
  @include bg-image($header-background-source, $position: center center,
                    $size: $header-height);
  @include flex(column, $ai: center, $jc: center);
  &__head {
    margin: 0 {
      bottom: 15px;
    }
    @include text(2rem, $headers-text-color, $weight: $bold-weight, $spacing: -1px);
  }
  &__text {
    @include text($introductory-paragraph-size);
  }
}

// COMPONENT
.component {
  width: 90%;
  max-width: 600px;
  min-height: 400px;
  background-color: $component-background-color;
  border-radius: 10px;
  box-shadow: 0 5px 10px $component-shadow-color;
  @include grid($tc: 1fr, $tr: 65% 35%, $ai: center);
  &__pricing {
    border-bottom: 2px $component-divider-color solid;
    height: 100%;
  }
  &__confirmation {
    height: 100%;
  }
}

%range-track {
  cursor: pointer;
  width: 100%;
  height: $slider-bar-height;
  border-radius: capsule($height: $slider-bar-height);
  background-color: $empty-slider-bar-color;
}

// PRICING
.pricing {
  @include grid($tc: 1fr 1fr, $tr: 40% 40% 20%, $ai: center);
  padding: 25px 50px;
  &__pageviews {
    text-align: left;
    grid-column: 1 / 2;
    grid-row: 1 / 2;
    @include text($spacing: 2px, $transform: uppercase);
  }
  &__price {
    text-align: right;
    white-space: nowrap;
    grid-column: 2 / 3;
    grid-row: 1 / 2;
    @include flex($ai: center, $jc: flex-end);
    &--bigger {
      display: inline-block;
      margin: 5px;
      @include text($size: 2rem, $color: $headers-text-color,
                    $spacing: 1px, $weight: $bold-weight);
    }
  }
  &__slider {
    grid-column: 1 / 3;
    grid-row: 2 / 3;
    label {
      width: 100%;
    }
    input[type='range'] {
      appearance: none;
      @extend %range-track;
      outline: none;
      opacity: 0.75;
      transition: opacity $interactive-transition;
      &:hover {
        opacity: 1;
      }
      // powered by postcss-input-range
      &::range-thumb {
        appearance: none;
        cursor: pointer;
        width: $slider-handle-size;
        height: $slider-handle-size;
        border-radius: capsule($height: $slider-handle-size);
        background-color: $slider-background-color;
        @include bg-image($slider-handle-image-source, $size: 60%)
      }
      // powered by postcss-input-range
      &::range-track {
        appearance: none;
      }
    }
  }
  &__billing {
    grid-column: 1 / 3;
    grid-row: 3 / 4;
  }
}

.billing {
  text-align: right;
  &__toggle {
    margin: 0 10px;
  }
  &__discount::after {
    content: $discount-content;
    margin: 0 10px;
    padding: $discount-top-and-bottom-padding 10px;
    border-radius: capsule($discount-text-size, $discount-top-and-bottom-padding);
    display: inline-block;
    background-color: $discount-background-color;
    @include text($discount-text-size, $discount-text-color);
  }
}

// CONFIRMATION
.confirmation {
  @include flex($ai: center, $jc: space-between);
  padding: 25px 50px;
  &__button {
    @extend %button;
    width: 200px;
    padding: $CTA-button-top-padding 25px;
    background-color: $CTA-background-color;
    color: $CTA-text-color;
    border-radius: capsule(1rem, $CTA-button-top-padding);
    transition: color $interactive-transition;
    &:hover {
      color: #fff;
    }
  }
}

.services {
  text-align: left;
  &__text {
    position: relative;
    margin: 10px 0 10px (-$services_check_margin);
  }
  &__text::before {
    display: inline-block;
    position: absolute;
    content: url($services_check_source);
    left: $services_check_margin;
    bottom: 2px;
  }
}


// ATTRIBUTION
.attribution {
  // margin doesn't work at bottom
  margin-top: 100px;
  padding-bottom: 50px;
}


// importing media queries
@import '@s/media';